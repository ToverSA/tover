function log(e){"use strict";window.console.log(e)}var app=angular.module("akomo",["ngRoute"]).config(["$routeProvider",function(e){"use strict";e.when("/",{templateUrl:"app/landing/landing.html",controller:"landingCtl"}).when("/home",{templateUrl:"app/home/home.html",controller:"homeCtl"}).when("/account",{templateUrl:"app/account/account.html",controller:"accountCtl"}).when("/account/:q",{templateUrl:"app/account/account.html",controller:"accountCtl"}).when("/account/delete",{templateUrl:"app/account/delete.html"}).when("/ads/create",{templateUrl:"app/ads/create.html",controller:"adsCreateCtl"}).when("/search",{templateUrl:"app/search/search.html",controller:"adsSearchCtl"}).when("/search/:q",{templateUrl:"app/search/search.html",controller:"adsSearchCtl"}).when("/ads/:id",{templateUrl:"app/ads/ads.html",controller:"adsCtl"}).when("/faqs",{templateUrl:"app/faqs/faqs.html",controller:"faqsCtl"}).when("/faqs/:section",{templateUrl:"app/partials/faqs.html",controller:"faqsCtl"}).when("/messenger",{templateUrl:"app/messenger/messenger.html",controller:"messengerCtl"}).when("/messenger/:q",{templateUrl:"app/messenger/messenger.html",controller:"messengerCtl"}).otherwise({templateUrl:"app/404/404.html",controller:"notFoundCtl"})}]);app.config(["$httpProvider",function(e){"use strict";e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8"}]),app.config(["$locationProvider",function(e){"use strict";e.html5Mode(!0)}]),app.service("AppStore",[function(){"use strict";function p(e){return CryptoJS.AES.encrypt(e,"akomo")}function m(e){if(null===e)return null;var t=CryptoJS.AES.decrypt(e,"akomo");return t.toString(CryptoJS.enc.Utf8)}var e=this,t="Q0FNUFVTTkFNRQ",n="Q0FNUFVTSUQ",r="VVNFUklE",o="VVNFUk5BTUU",a="VVNFUkVNQUlM",c="VVNFUk5VTUJFUg",l="U0VBUkNIU0VUVElOR1M",s="SU5CT1g",u="V0hBVFNBUFA",i="VE9LRU4";e.isToken=function(){return null===localStorage.getItem(i)?!1:!0},e.isNew=function(){return null===localStorage.getItem(n)?!0:!1},e.getInbox=function(){var e=localStorage.getItem(s);return null===e?{}:JSON.parse(m(e))},e.setInbox=function(e){localStorage.setItem(s,p(JSON.stringify(e)))},e.setToken=function(e){localStorage.setItem(i,p(e))},e.getToken=function(){return m(localStorage.getItem(i))},e.getUserName=function(){return m(localStorage.getItem(o))},e.getUserEmail=function(){return m(localStorage.getItem(a))},e.getUserNumber=function(){return m(localStorage.getItem(c))},e.setUserName=function(e){localStorage.setItem(o,p(e))},e.setUserNumber=function(e){localStorage.setItem(c,p(e))},e.setUserEmail=function(e){localStorage.setItem(a,p(e))},e.setUserId=function(e){localStorage.setItem(r,e)},e.getUserId=function(){return localStorage.getItem(r)},e.getCampusName=function(){return m(localStorage.getItem(t))},e.getCampusId=function(){return localStorage.getItem(n)},e.setCampus=function(e,r){localStorage.setItem(n,e),localStorage.setItem(t,p(r))},e.setSearchPrefs=function(e){localStorage.setItem(l,p(JSON.stringify(e)))},e.getSearchPrefs=function(){var e=localStorage.getItem(l);return null===e?!1:JSON.parse(m(e))},e.setWhatsapp=function(e){localStorage.setItem(u,e)},e.getWhatsapp=function(){return localStorage.getItem(u)},e.clearAll=function(){localStorage.removeItem(i),localStorage.removeItem(r),localStorage.removeItem(o),localStorage.removeItem(a),localStorage.removeItem(c)}}]),app.directive("enterKey",[function(){"use strict";return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.enterKey)}),t.preventDefault())})}}]),app.directive("anyKey",[function(){"use strict";return function(e,t,n){t.bind("keyup",function(t){(t.which>=65&&t.which<=90||229===t.which||8===t.which)&&(e.$apply(function(){e.$eval(n.anyKey)}),t.preventDefault())})}}]),app.directive("arrowKey",[function(){"use strict";return function(e,t,n){t.bind("keyup",function(t){log(t),(t.which>=65&&t.which<=90||229===t.which||8===t.which)&&(e.$apply(function(){e.$eval(n.anyKey)}),t.preventDefault())})}}]),app.service("httpFacade",["$http","AppStore",function(e,t){"use strict";var n=this,r="api.php/v1";n.getAdsCount=function(t){return e.get(r+"/ads/count?"+t)},n.getAccountAds=function(n){return e.get("api.php/v1/account/ads",{headers:{token:t.getToken()}})},n.getAds=function(t,n){return"undefined"==typeof n&&(n=!1),e.get(r+"/ads?"+t,{cache:n})},n.getPromoAds=function(t){return e.get(r+"/ads/promotions?"+t)},n.getCredits=function(){return e.get(r+"/credits",{headers:{token:t.getToken()}})},n.getUsers=function(t){return e.get(r+"/users?"+t,{cache:!0})},n.getAccount=function(){return e.get("api.php/v1/account",{headers:{token:t.getToken()}})},n.getMessages=function(n){return"undefined"==typeof n?e.get(r+"/messages",{headers:{token:t.getToken()}}):e.get(r+"/messages?"+n,{headers:{token:t.getToken()}})},n.getCampuses=function(){return e.get("api.php/v1/campuses",{cache:!0})},n.postCredits=function(n){return e.post(r+"/credits",n,{headers:{token:t.getToken()}})},n.postMessage=function(n){return e.post(r+"/messages",n,{headers:{token:t.getToken()}})},n.putMessage=function(n){return e.put(r+"/messages",n,{headers:{token:t.getToken()}})},n.putAccount=function(n){return e.put(r+"/account",n,{headers:{token:t.getToken()}})},n.promote=function(n){return e.put(r+"/ads/promotions",n,{headers:{token:t.getToken()}})},n.visit=function(t){return e.post(r+"/visitors",t)},n.purchase=function(e){var n=document.createElement("form"),o=document.createElement("input"),a=document.createElement("input");n.method="post",n.action=r+"/account/confirm",o.type="hidden",o.name="id",o.value=t.getUserId(),a.type="hidden",a.name="deal",a.value=e,n.appendChild(o),n.appendChild(a),document.body.appendChild(n),n.submit()},n.deleteAccount=function(n){return e({method:"DELETE",url:r+"/account?"+n,headers:{token:t.getToken()}})},n.deleteAd=function(n){return e({method:"DELETE",url:r+"/ads?"+n,headers:{token:t.getToken()}})}}]);
