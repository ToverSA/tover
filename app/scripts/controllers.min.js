app.controller("accountCtl",["$scope","$http","$location","$cookies",function(t,e,n,o){"use strict";function s(){"undefined"==typeof o.get("token")?(e.get("/api/campuses.json",{cache:!0}).then(function(e){a.insties=e.data,t.instList=a.insties}),t.accountState=a.REGISTER):t.accountState=a.MAIN}function c(e){return"undefined"==typeof e||e.length<4?(t.errMsg="Name must have at least 4 characters",!1):e.search(/[a-z]/i)<0?(t.errMsg="Your name must contain at least one letter.",!1):!0}function i(t){var e=/\S+@\S+\.\S+/;return e.test(t)}function r(e){return"undefined"==typeof e||e.length<4?(t.errMsg="Password must have at least 4 characters",!1):e.search(/[a-z]/i)<0?(t.errMsg="Your password must contain at least one letter.",!1):e.search(/[0-9]/)<0?(t.errMsg="Your password must contain at least one digit.",!1):e.equals===t.formData.rePwd?(t.errMsg="Passwords do not match",!1):!0}function u(e){return i(e.email)?r(e.password)?c(e.dName)?"undefined"!=typeof t.formData.campusId?(t.error(-1),!0):(t.error(3),void(t.errMsg="Campus isn't selected")):(t.error(1),!1):(t.error(2),!1):(t.error(0),!1)}var a=this;a.LOADING=0,a.LOGIN=1,a.REGISTER=2,a.RECOVERY=3,a.MAIN=4,a.CONSOLE=5,a.MESSAGES=6,a.PREFERENCES=7,a.FAQS=8,a.insties=[],t.error=function(e){switch(e){case 0:t.err=!0,t.errMsg="Error in email format i.e. '@'";break;case 1:t.err=!0;break;case 2:t.err=!0;break;case 3:t.err=!0;break;default:t.err=!1}},t.formData={email:"sdu@gum.com"},t.cState=0,t.lTitle="- Select your campus -",t.sTitle="",t.openChooser=function(){t.isCOpen=!0},t.browse=function(e){0===t.cState?(t.sTitle=a.insties[e].name,t.instList=a.insties[e].campuses,t.cState=1):(t.formData.campusId=t.instList[e].id,t.isCOpen=!1,t.lTitle=t.instList[e].name)},t.changeC=function(){t.instList=a.insties,t.cState=0},t.toRecovery=function(){t.accountState=a.RECOVERY},t.toRegister=function(){t.accountState=a.REGISTER},t.toLogin=function(){t.accountState=a.LOGIN},t.logIn=function(){t.accountState=a.MAIN},t.delAcc=function(){n.url("/account/delete")},t.faqs=function(){n.url("/faqs/account")},t.createAd=function(){n.url("/ads/create")},t.createNew=function(){u(t.formData);var e=JSON.parse(JSON.stringify(t.formData));delete e.rePwd},s()}]),app.controller("homeCtl",["$scope","$http","$location",function(t,e,n){"use strict";function o(){e.get("/api/ads.json").then(function(t){},function(t){log(t)})}t.title="Some demo text and more testimonial bitch",t.viewAd=function(t){n.url("/ads/"+t)},o()}]),app.controller("adsCreateCtl",["$scope","$location",function(t,e){"use strict";t.cat=!1,t.display="- Choose category - ",t.cats=[{id:1,name:"Books & Study Material"},{id:2,name:"Electronics & Gadgets"},{id:3,name:"Phones & Laptops"},{id:4,name:"Services & Other"}],t.cancelAd=function(){e.url("/account")},t.show=function(){t.cat=!0},t.sel=function(e){t.display=t.cats[e].name,t.cat=!1},t.back=function(){t.aPage-=1},t.step=function(){1===t.aPage?t.aPage+=1:2===t.aPage?t.aPage+=1:3===t.aPage&&e.url("/account")}}]),app.controller("adsCtl",["$scope","$timeout","$location",function(t,e,n){"use strict";t.isGuest=!0,t.sendMessage=function(){t.state=2,e(function(){t.state=-1},1e3)},t.reportAd=function(t){}}]),app.controller("adsSearchCtl",["$scope","$routeParams","$location",function(t,e,n){"use strict";e.hasOwnProperty("cat")&&(t.search=1,t.sSection=1),t.back=function(){t.search?n.url("/ads/search"):n.url("/home")},t.toCat=function(t){n.url("/ads/search/?cat="+t)},t.viewAd=function(t){n.url("/ads/"+t)}}]),app.controller("faqsCtl",["$scope","$routeParams",function(t,e){"use strict";log(e)}]),app.controller("delAccCtl",["$scope","$location",function(t,e){"use strict";t.cancel=function(){e.url("/account")},t.conf=function(){}}]),app.controller("landingCtl",["$scope","$http","AppStore","$location",function(t,e,n,o){"use strict";var a=[];e.get("/api/campuses.json").then(function(e){a=e.data;t.list=[],a.forEach(function(e){t.list.push(e)})},function(t){log(t)}),t.state=0,t.browse=function(e){0===t.state?(t.iName=a[e].name,t.list=[],a[e].campuses.forEach(function(e){t.list.push(e)}),t.state=1):(n.setCampus(t.list[e].id,t.list[e].name),o.url("/home"))},t.change=function(){t.state=0,t.list=[],a.forEach(function(e){t.list.push(e)})},t.getStarted=function(){n.isNew()?t.dialog=!0:o.url("/home")}}]),app.controller("notFoundCtl",[function(){"use strict"}]);
